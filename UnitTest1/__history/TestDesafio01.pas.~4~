unit TestDesafio01;
{

  Delphi DUnit Test Case
  ----------------------
  This unit contains a skeleton test case class generated by the Test Case Wizard.
  Modify the generated code to correctly setup and call the methods from the unit 
  being tested.

}

interface

uses
  TestFramework, Desafio01;

type
  // Test methods for class TDesafio01

  TestTDesafio01 = class(TTestCase)
  strict private
    FDesafio01: TDesafio01;
  public
    procedure SetUp; override;
    procedure TearDown; override;
  published
    procedure TestcalcularIrrf;
  end;

implementation

procedure TestTDesafio01.SetUp;
begin
  FDesafio01 := TDesafio01.Create;
end;

procedure TestTDesafio01.TearDown;
begin
  FDesafio01.Free;
  FDesafio01 := nil;
end;

procedure TestTDesafio01.TestcalcularIrrf;
var
  ReturnValue: Currency;
  SalarioBase: Currency;
begin

  //CASO FAIXA 1
  SalarioBase := 2500;
  ReturnValue := FDesafio01.calcularIrrf(SalarioBase);
  CheckEquals(44.7, ReturnValue, 'O Resultado não está compatível');  //95.2
  //CASO FAIXA 2
  SalarioBase := 3000;
  ReturnValue := FDesafio01.calcularIrrf(SalarioBase);
  CheckEquals(95.22, ReturnValue, 'O Resultado não está compatível');

end;

initialization
  // Register any test cases with the test runner
  RegisterTest(TestTDesafio01.Suite);
end.

